@model CarLease.Models.CarDetails

@{
    ViewBag.Title = "Order";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@section additionals{
    <script src="/Scripts/orders.js"></script>
}

<h2>Order</h2>

<div class="panel panel-default">
    <div class="panel-heading">Car Details</div>
    <div class="panel-body">
        <form action="/lease/order" method="post">
            <div class="panel-info">Your car, so far</div>
            <br />

            <span> Detailed List of order </span>

            @{
                string username = ViewBag.currentUsername;
    //int leaseDays = ViewBag.leaseDays;
            }
            <input type="hidden" name="order.CarId" value="@Model.Car.Id" />
            <div class="row">
                <div class="col-lg-12">
                    <label for="username">Customer username: </label>
                    <input name="username" type="text" disabled value="@username" />
                    
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-md-4">
                    <label for="brand">Brand: </label>
                    <input name="brand" type="text" disabled value="@Model.CarType.Brand" />
                </div>


                <div class="col-md-4">
                    <label for="model">Model: </label>
                    <input name="model" type="text" disabled value="@Model.CarType.Model" />
                </div>
                <div class="col-md-4">
                    <label for="dailyCost">Daily Cost: </label>
                    <input name="dailyCost" type="text" disabled value="@Model.CarType.DailyCost" />
                </div>
            </div>

            <br />

            <div class="row">

                <div class="col-md-4">
                    <label for="dailyLateCost">Daily Penalty Cost: </label>
                    <input name="dailyLateCost" type="text" disabled value="@Model.CarType.DialyLateCost" />
                </div>
                <div class="col-md-4">
                    <label for="currentKM">Current KM:</label>
                    <input name="currentKM" type="text" disabled
                           value="@Model.Car.CurrentKM" />
                </div>
                <div class="col-md-4">
                    <label for="licenseNumber">License Number: </label>
                    <input name="licenseNumber" type="number" disabled
                           value="@Model.Car.LicenseNumber" />
                </div>
            </div>

            <br />

            <div class="row">

                <div class="col-md-4">
                    <label for="dateStart">Lease start day:</label>
                    <input type="date" disabled value="@Model.Order.LeaseStartDate" />
                    <input name="order.LeaseStartDate" type="hidden" value="@Model.Order.LeaseStartDate" />
                </div>

                <div class="col-md-4">
                    <label for="dateEnd">Lease end day:</label>
                    <input type="date" disabled value="@Model.Order.LeaseEndDate" />
                    <input name="order.LeaseEndDate" type="hidden" value="@Model.Order.LeaseEndDate" />
                </div>

                <div class="col-md-4">
                    <label for="days">Number of days:</label>
                    <input name="days" type="number" disabled value="@((Model.Order.LeaseEndDate - Model.Order.LeaseStartDate).TotalDays)" />
                </div>
            </div>

            <br />

            <div class="row">
                <div class="col-xs-6">
                    <input name="picture" type="image" disabled />
                </div>

                <div class="col-xs-6">
                    <label for="cost">Lease cost:</label>
                    <input id="dailyCostResult" disabled
                           value="@(Model.CarType.DailyCost * (Model.Order.LeaseEndDate - Model.Order.LeaseStartDate).Days)">

                </div>
            </div>

            <div class="center-block">
                <button type="submit">Order now</button>
            </div>
        </form>
    </div>
</div>
